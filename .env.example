# ⚠️  SECURITY WARNING ⚠️
# CRITICAL: Change ALL default passwords and tokens before deploying to production!
# These example values are NOT secure and should NEVER be used in production.

# Database
# SECURITY: Generate a strong random password (minimum 32 characters)
# Example: openssl rand -base64 32
POSTGRES_USER=brainda
POSTGRES_PASSWORD=CHANGE_THIS_TO_STRONG_RANDOM_PASSWORD
POSTGRES_DB=brainda
DATABASE_URL=postgresql://brainda:CHANGE_THIS_TO_STRONG_RANDOM_PASSWORD@postgres:5432/brainda

# Redis
REDIS_URL=redis://redis:6379/0

# Qdrant
QDRANT_URL=http://qdrant:6333

# Authentication (single user)
# SECURITY: Generate with: openssl rand -hex 32
# CRITICAL: This token grants full API access - keep it secret!
API_TOKEN=GENERATE_WITH_openssl_rand_hex_32

# CORS Configuration
# SECURITY: Specify exact origins, NEVER use "*" with credentials enabled
# For production, set to your actual frontend domain(s)
# Multiple origins: separate with commas (no spaces)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Application
LOG_LEVEL=INFO
TZ=UTC

# LLM (optional)
LLM_BACKEND=ollama  # Supported: dummy, ollama, openai, anthropic, custom
LLM_MODEL=placeholder-model

# Ollama configuration
OLLAMA_URL=http://ollama:11434
OLLAMA_MODEL=llama3

# OpenAI configuration
OPENAI_API_KEY=sk-your-openai-key
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_BASE_URL=https://api.openai.com/v1

# Anthropic configuration
ANTHROPIC_API_KEY=sk-ant-your-key
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
ANTHROPIC_MAX_TOKENS=1024

# Custom API configuration (OpenAI-compatible)
CUSTOM_LLM_URL=https://api.your-llm.com/v1/chat/completions
CUSTOM_LLM_API_KEY=your-secret-key
CUSTOM_LLM_MODEL=your-model-v1
CUSTOM_LLM_HEADERS={"X-Organization": "your-org"}

# Worker Configuration
CELERY_WORKER_CONCURRENCY=3

# Google Calendar Sync (Stage 7)
# SECURITY: Generate a strong state secret and encryption key
# Generate encryption key: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8000/api/v1/calendar/google/callback
GOOGLE_OAUTH_STATE_SECRET=change-this-state-secret
GOOGLE_TOKEN_ENCRYPTION_KEY=generate-with-fernet
GOOGLE_OAUTH_SUCCESS_REDIRECT=http://localhost:3000/settings?success=google_connected
GOOGLE_OAUTH_FAILURE_REDIRECT=http://localhost:3000/settings?error=google_auth_failed
# Optional: narrow scopes, comma separated
# GOOGLE_CALENDAR_SCOPES=https://www.googleapis.com/auth/calendar

# Data Retention (days)
RETENTION_MESSAGES=90
RETENTION_JOBS=30
RETENTION_NOTIFICATIONS=60
RETENTION_AUDIT_LOG=365

# Rate Limiting
CHAT_RATE_LIMIT=30
CHAT_RATE_WINDOW_SECONDS=60

# API Timeouts and Circuit Breakers (seconds)
# Prevents runaway costs and hanging requests
HTTP_TIMEOUT=30
LLM_TIMEOUT=60
GOOGLE_API_TIMEOUT=15
OPENMEMORY_TIMEOUT=10
# Circuit breaker: max failures before stopping requests temporarily
CIRCUIT_BREAKER_MAX_FAILURES=5
CIRCUIT_BREAKER_RESET_TIMEOUT=60

# OpenMemory Integration (Long-term AI Memory)
# OPENMEMORY_URL: URL of your OpenMemory server
# OPENMEMORY_API_KEY: Optional API key for authentication (if your server requires it)
OPENMEMORY_URL=http://localhost:8080
OPENMEMORY_API_KEY=
# Enable/disable OpenMemory integration for RAG
OPENMEMORY_ENABLED=true

# Memory Vault (Markdown Mirror)
# Enable syncing OpenMemory to markdown files for browsing
MEMORY_VAULT_SYNC_ENABLED=false
# Path where memory vault files are stored (must be mounted in Docker)
MEMORY_VAULT_PATH=/memory_vault
