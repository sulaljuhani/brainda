
======================================
SETUP
======================================

[14:42:15] Using base URL: http://localhost:8000
[14:42:15] Waiting for: orchestrator health endpoint (timeout 60s)
[0;32m[14:42:20] âœ“ Condition met after 0s[0m
[0;32m[14:42:26] âœ“ Health endpoint reports healthy (expected=healthy, actual=healthy)[0m

======================================
STAGE 7: GOOGLE CALENDAR SYNC
======================================

[14:42:26] Running test: stage7_sync_table
[14:42:26] Checking calendar_sync_state table and required columns exist...
[0;32m[14:42:26] âœ“ Table 'calendar_sync_state' exists (expected=1, actual=1)[0m
[0;32m[14:42:31] âœ“ Table 'calendar_sync_state' has columns: user_id
google_calendar_id
sync_token
last_sync_at
sync_enabled
sync_direction
created_at
updated_at[0m
[0;32m[14:42:31] âœ“ stage7_sync_table passed (5s)[0m
[14:42:31] Running test: stage7_sync_status
[14:42:31] Testing Google Calendar sync status endpoint...
[0;32m[14:42:32] âœ“ Google Calendar sync status endpoint returned expected JSON[0m
[0;32m[14:42:32] âœ“ stage7_sync_status passed (1s)[0m
[14:42:32] Running test: stage7_oauth_endpoints
[14:42:32] Testing Google OAuth endpoints exist...
[0;32m[14:42:32] âœ“ Google OAuth connect endpoint returned authorization URL[0m
[0;32m[14:42:32] âœ“ Google OAuth disconnect endpoint returned success payload[0m
[0;32m[14:42:32] âœ“ stage7_oauth_endpoints passed (0s)[0m
[14:42:32] Running test: stage7_sync_state
[14:42:32] Testing Google sync state structure...
[0;32m[14:42:33] âœ“ Table 'calendar_sync_state' exists (expected=1, actual=1)[0m
[0;32m[14:42:37] âœ“ Table 'calendar_sync_state' has columns: user_id
google_calendar_id
sync_token
last_sync_at
sync_enabled
sync_direction[0m
[0;32m[14:42:37] âœ“ stage7_sync_state passed (5s)[0m
[14:42:37] Running test: stage7_event_google_id
[14:42:37] Testing google_event_id field in calendar_events...
[0;32m[14:42:38] âœ“ Table 'calendar_events' exists (expected=1, actual=1)[0m
[0;32m[14:42:40] âœ“ Table 'calendar_events' has columns: google_event_id
google_calendar_id
source[0m
[0;32m[14:42:40] âœ“ stage7_event_google_id passed (3s)[0m
[14:42:40] Running test: stage7_sync_settings
[14:42:40] Testing Google sync settings PATCH endpoint...
[0;32m[14:42:40] âœ“ Google sync settings endpoint returned success payload[0m
[0;32m[14:42:40] âœ“ stage7_sync_settings passed (0s)[0m
[14:42:40] Running test: stage7_sync_trigger
[14:42:40] Testing manual sync trigger endpoint...
[0;32m[14:42:40] âœ“ Manual sync trigger correctly rejects requests when Google Calendar is not connected[0m
[0;32m[14:42:40] âœ“ stage7_sync_trigger passed (0s)[0m

======================================
TEST SUMMARY
======================================

Total Tests: 7
Passed: 7
Failed: 0
Warnings: 0
Duration: 0m 25s
Pass Rate: 100.0%

SLO Status:
  - Reminder fire lag p95: unavailable
  - Push success rate: unavailable
  - Document ingestion p95: unavailable
  - Vector search p95: unavailable

Logs: /tmp/vib-test-20251114-174215/run.log
Artifacts: /tmp/vib-test-20251114-174215
[14:42:41] JSON report: /tmp/vib-test-20251114-174215/results.json
[14:42:41] Cleaning up test data...
[0;32m[14:42:44] âœ“ Cleanup complete[0m
