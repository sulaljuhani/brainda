
======================================
SETUP
======================================

[14:22:11] Using base URL: http://localhost:8000
[14:22:11] Waiting for: orchestrator health endpoint (timeout 60s)
[0;32m[14:22:16] âœ“ Condition met after 0s[0m
[0;32m[14:22:21] âœ“ Health endpoint reports healthy (expected=healthy, actual=healthy)[0m

======================================
STAGE 2: REMINDERS + NOTIFICATIONS
======================================

[14:22:21] Running test: reminder_api_create
[0;32m[14:22:22] âœ“ Reminder created via API[0m
[0;32m[14:22:22] âœ“ reminder_api_create passed (1s)[0m
[14:22:22] Running test: reminder_db_record
[0;32m[14:22:22] âœ“ Reminder persisted in DB (expected=1, actual=1)[0m
[0;32m[14:22:22] âœ“ reminder_db_record passed (0s)[0m
[14:22:22] Running test: reminder_scheduler_entry
[0;32m[14:22:24] âœ“ Reminder 0f17bb41-ed34-48fd-abbb-612570ef1145 scheduled in APScheduler[0m
[0;32m[14:22:24] âœ“ reminder_scheduler_entry passed (2s)[0m
[14:22:24] Running test: reminder_chat_flow
[0;32m[14:22:24] âœ“ Chat endpoint accepted reminder request[0m
[0;32m[14:22:24] âœ“ reminder_chat_flow passed (0s)[0m
[14:22:24] Running test: reminder_smart_defaults
[0;32m[14:22:24] âœ“ Chat request for smart defaults[0m
[0;32m[14:22:30] âœ“ Reminder created via chat[0m
[0;32m[14:22:30] âœ“ Smart default produced local time 09:00:00[0m
[0;32m[14:22:30] âœ“ reminder_smart_defaults passed (6s)[0m
[14:22:30] Running test: reminder_dedup_response
[0;32m[14:22:31] âœ“ Duplicate reminder flagged (expected=true, actual=true)[0m
[0;32m[14:22:31] âœ“ reminder_dedup_response passed (1s)[0m
[14:22:31] Running test: reminder_dedup_constraint
[0;31m[14:22:31] âœ— DB dedup constraint allowed duplicate[0m
[0;31m[14:22:31] âœ— reminder_dedup_constraint failed[0m
[14:22:31] Cleaning up test data...
[0;32m[14:22:34] âœ“ Cleanup complete[0m
